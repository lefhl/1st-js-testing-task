<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Script</title>
	<link rel="stylesheet" href="style.css">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
	<script src="script.js"></script>
</head>
<body>
	
	

<div class="tets"></div>




<script>

	// Добавляем на страницу ячейки с рандомным содержанием (от 1 до 3)
	
	function randomInteger(min, max) {
  		let rand = min + Math.random() * (max + 1 - min);
  		return Math.floor(rand);
  	}
  		var grid_elements = 50;
	$(".tets").html(function() {
  		var $cells = $("<table>");

  		for (var i = 0; i < grid_elements; i++) {
    		var $rows = $("<tr>");
    		for (var j = 0; j < grid_elements; j++) {
      			// $rows.prepend($("<td>").text(randomInteger(1, 3)));
      			// $rows.setAttribute('data-x', `${i}`);
      			$rows.append($("<td>").text(randomInteger(1, 3)).attr('data-x', `${i+1}`).attr('data-y', `${j+1}`));
    			}

    		$rows.appendTo($cells);
  		}
  return $cells;
	});

// Меняем цвет фона элемента и его ближайших соседей по строке в зависимости от его содержимого

	 $('td').click(function(){
	 	var box_number = this.textContent;
	 	var active_class = '';
	 	if (box_number == 1) {
	 		active_class = 'active_1';
	 	} else if (box_number == 2) {
	 		active_class = 'active_2';
	 	} else {
	 		active_class = 'active_3';
	 	}
  	 	$(this).toggleClass(`${active_class}`);
  	 	var data_x_value = parseInt($(this).attr('data-x'));
  	 	var data_y_value = parseInt($(this).attr('data-y'));
  	 	if (box_number == 1) {
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`); 
  	 		$(`[data-x = ${data_x_value}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);	 	
  	 	}
  	 	if (box_number == 2) {
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`); 
  	 		$(`[data-x = ${data_x_value}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);

  	 		$(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value + 2 }]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);
  	 	}

  	 	if (box_number == 3) {
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`); 
  	 		$(`[data-x = ${data_x_value}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		$(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);

  	 		$(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value + 2 }]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);

  	 		 $(`[data-x = ${data_x_value + 3}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value - 3}][data-y = ${data_y_value}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 3}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value - 3}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 3}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value - 3}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 3}][data-y = ${data_y_value + 3}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value - 3}][data-y = ${data_y_value - 3}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 3}][data-y = ${data_y_value + 1}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value - 3}][data-y = ${data_y_value + 2}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 3}][data-y = ${data_y_value + 3}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value + 3}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value + 3}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value}][data-y = ${data_y_value + 3}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value + 3}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value + 3}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 3}][data-y = ${data_y_value - 1}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value + 3}][data-y = ${data_y_value - 2}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value - 2}][data-y = ${data_y_value - 3}]`).toggleClass(`${active_class}`);  
  	 		 $(`[data-x = ${data_x_value - 1}][data-y = ${data_y_value - 3}]`).toggleClass(`${active_class}`);  
  	 		 $(`[data-x = ${data_x_value}][data-y = ${data_y_value - 3}]`).toggleClass(`${active_class}`);  
  	 		 $(`[data-x = ${data_x_value + 1}][data-y = ${data_y_value - 3}]`).toggleClass(`${active_class}`); 
  	 		 $(`[data-x = ${data_x_value + 2}][data-y = ${data_y_value - 3}]`).toggleClass(`${active_class}`);
  	 		 $(`[data-x = ${data_x_value + 3}][data-y = ${data_y_value - 3}]`).toggleClass(`${active_class}`);     
  	 	}

  	 })
</script>

</body>
</html>

