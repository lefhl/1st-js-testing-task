<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Script</title>
	<link rel="stylesheet" href="style.css">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
	<script src="script.js"></script>
</head>
<body>
	
	

<div class="tets"></div>




<script>
	/*Определяем количество ячеек для отображения на странице
	для разных разрешений экрана*/
	var window_height = Math.floor(document.documentElement.clientHeight / 60);
	var window_width = Math.floor(document.documentElement.clientWidth / 60);
	var grid_elements_max;
	if(window_height > window_width) {
		grid_elements_max = window_width;
	}
	else {
		grid_elements_max = window_height;
	}
	// Добавляем на страницу рандомное количество ячеек с рандомным содержанием (от 1 до 3)
	
	function randomInteger(min, max) {
  		let rand = min + Math.random() * (max + 1 - min);
  		return Math.floor(rand);
  	}
  		var grid_elements = randomInteger(3, grid_elements_max);

	$(".tets").html(function() {
  		var $cells = $("<table>");

  		for (var i = 0; i < grid_elements; i++) {
    		var $rows = $("<tr>");

    		for (var j = 0; j < grid_elements; j++) {
      			$rows.prepend($("<td>").text(randomInteger(1, 3)));
    			}

    		$rows.appendTo($cells);
  		}
  return $cells;
	});

// Меняем цвет фона элемента и его ближайших соседей по строке в зависимости от его содержимого

	 $('td').click(function(){
	 	var box_number = this.textContent;
	 	var active_class = '';
	 	if (box_number == 1) {
	 		active_class = 'active_1';
	 	} else if (box_number == 2) {
	 		active_class = 'active_2';
	 	} else {
	 		active_class = 'active_3';
	 	}
  	 	$(this).toggleClass(`${active_class}`);
  	 	// $(this).next().toggleClass(`${active_class}`);
  	 	// $(this).prev().toggleClass(`${active_class}`);
  	 	$(this).siblings().toggleClass(`${active_class}`);
  	 	var current_object = this;
  	 	if (current_object != this) {
  	 		alert('dffvfvd');
  	 	}
  	 })
</script>

</body>
</html>


<!-- 
			for(var n = 0; n < 5; n++) {
					$("<p></p>").appendTo('div');
					var class_name = "block_" + (n + 1);
					$("p").addClass(`block ${class_name}`);	
				} -->
<!-- 
	var screen_size = document.documentElement.clientHeight;
	var max_lines = Math.floor(screen_size / 60);
	var min_lines = 3;
	function random_integer_lines(min, max) {
		return Math.floor(min + Math.random() * (max - min));
	}
	function random_integer_box(min, max) {
		return Math.round(min + Math.random() * (max - min));
	}
	var counter = random_integer_lines(min_lines, max_lines);
	for(var i = 0; i < counter; i++) {
			$("<div></div>").appendTo('body'); 
			$("div").addClass(`line_blocks`);
			}
	for (var n = 0; n < counter; n++) {
		$("<p></p>").appendTo('div');
		$('p').addClass('block');
		var p_number = random_integer_box(1, 3);
		$('.line_blocks>.block').text(`${p_number}`);
		}
	var lines_array = Array.from($("div"));
	for (var k = 0; k < lines_array.length; k++) {
		lines_array[k].addClass(`${'line_number_' + (k + 1)}`);
	}
	alert(lines_array); -->